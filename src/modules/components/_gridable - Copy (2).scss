/* ====================================================
Gridable = Grid + Table
==================================================== */

%gridable-base {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    width: 100%;
    gap: 0;
    border-radius: var(--border-radius);
}

:root {
    --gridable-border-color: transparent;
    --gridable-bg-color: red;
  }

// Apply to all variants
[class^="gridable-"] {
    @extend %gridable-base;
  }

.gridable {
    // Used Primary Surface Color Palettes
    &-ps{
        background-color: var(--primary-surface-bg);
        color: var(--primary-surface-text);
        border: 1px solid var(--primary-surface-border);
        --gridable-border-color: var(--primary-surface-border);
        --gridable-bg-color: var(--primary-surface-bg);
    }
    
    // Used Secondary Surface Color Palettes
    &-ss{
        background-color: var(--secondary-surface-bg);
        color: var(--secondary-surface-text);
        border: 1px solid var(--secondary-surface-border);
        --gridable-border-color: var(--secondary-surface-border);
        --gridable-bg-color: var(--secondary-surface-bg);
    }

    // Used Tertiary Surface Color Palettes
    &-ts{
        background-color: var(--tertiary-surface-bg);
        color: var(--tertiary-surface-text);
        border: 1px solid var(--tertiary-surface-border);
        --gridable-border-color: var(--tertiary-surface-border);
        --gridable-bg-color: var(--tertiary-surface-bg);
    }

    // Used Quaternary Surface Color Palettes
    &-qs{
        background-color: var(--quaternary-surface-bg);
        color: var(--quaternary-surface-text);
        border: 1px solid var(--quaternary-surface-border);
        --gridable-border-color: var(--quaternary-surface-border);
        --gridable-bg-color: var(--quaternary-surface-bg);
    }
}

/* Header + Rows (full-width + column inheritance) */
.grid-header, .grid-row {
    display: grid;
    grid-column: 1 / -1;
    grid-template-columns: inherit;
}

/* Critical Text Wrapping for Cells */
.header-item, .grid-cell {
    padding: var(--space-us);
    word-break: break-word;    /* Breaks long words */
    overflow-wrap: break-word; /* Prefers breaking at spaces */
    white-space: normal;       /* Overrides any 'nowrap' */
    min-width: 0;             /* Allows shrinking below content size */
}

/* Header Styles */
.header-item {
    font-weight: bold;
    border-bottom: 1px solid var(--gridable-border-color);
    display: flex;
    align-items: center;
}

/* Cell Borders + Stripes */
.grid-cell {
    border-bottom: 1px solid var(--gridable-border-color);
}

.grid-row:nth-child(even) .grid-cell {
    background: var(--even-bg, inherit);
}

.grid-row:nth-child(odd) .grid-cell {
    background: var(--odd-bg, inherit);
}

.grid-row:last-child .grid-cell {
    border-bottom: none;
}

[class^="gridable-"] {

    &.us {
        @include us{   
            grid-template-columns: 1fr;
            border:none;
            background-color: transparent;

            .grid-header {
                display: none;
            }
        
            .grid-row {
                display: grid;
                grid-template-columns: 1fr;
                gap: 5px;
                margin-bottom: 5px;
                padding: 10px;
                background: var(--gridable-bg-color);
                border: 1px solid var(--gridable-border-color);
                border-radius: var(--border-radius)
            }

            .grid-row:last-child{
                margin-bottom: 0px;
            }
        
            .grid-cell {
                padding: 5px;
                background: transparent !important;
                border-bottom: none;
                display: flex;
                flex-wrap: wrap;
            }
        
            // .grid-cell:last-child {
            //     border-bottom: none;
            // }

            // .grid-row:last-child > .grid-cell {
            //     border-bottom: var(--border);
            // }
        
            .grid-cell::before {
                content: attr(data-label);
                font-weight: bold;
                width: 120px;
                flex-shrink: 0;
            }
        
            .grid-cell span {
                flex: 1;
                min-width: 0; /* Allows text to wrap properly */
            }

            /* Add data-labels for mobile view */
            .grid-cell::before {
                content: attr(data-label) ": ";
                font-weight: bold;
            }
        }
    }

    &.sm {
        @include sm{   
            grid-template-columns: 1fr;
            border:none;
            background-color: transparent;

            .grid-header {
                display: none;
            }
        
            .grid-row {
                display: grid;
                grid-template-columns: 1fr;
                gap: 5px;
                margin-bottom: 5px;
                padding: 10px;
                background: var(--gridable-bg-color);
                border: 1px solid var(--gridable-border-color);
                border-radius: var(--border-radius)
            }

            .grid-row:last-child{
                margin-bottom: 0px;
            }
        
            .grid-cell {
                padding: 5px;
                background: transparent !important;
                border-bottom: none;
                display: flex;
                flex-wrap: wrap;
            }
        
            // .grid-cell:last-child {
            //     border-bottom: none;
            // }

            // .grid-row:last-child > .grid-cell {
            //     border-bottom: var(--border);
            // }
        
            .grid-cell::before {
                content: attr(data-label);
                font-weight: bold;
                width: 120px;
                flex-shrink: 0;
            }
        
            .grid-cell span {
                flex: 1;
                min-width: 0; /* Allows text to wrap properly */
            }

            /* Add data-labels for mobile view */
            .grid-cell::before {
                content: attr(data-label) ": ";
                font-weight: bold;
            }
        }
    }

    &.md {
        @include md{   
            grid-template-columns: 1fr;
            border:none;
            background-color: transparent;

            .grid-header {
                display: none;
            }
        
            .grid-row {
                display: grid;
                grid-template-columns: 1fr;
                gap: 5px;
                margin-bottom: 5px;
                padding: 10px;
                background: var(--gridable-bg-color);
                border: 1px solid var(--gridable-border-color);
                border-radius: var(--border-radius)
            }

            .grid-row:last-child{
                margin-bottom: 0px;
            }
        
            .grid-cell {
                padding: 5px;
                background: transparent !important;
                border-bottom: none;
                display: flex;
                flex-wrap: wrap;
            }
        
            // .grid-cell:last-child {
            //     border-bottom: none;
            // }

            // .grid-row:last-child > .grid-cell {
            //     border-bottom: var(--border);
            // }
        
            .grid-cell::before {
                content: attr(data-label);
                font-weight: bold;
                width: 120px;
                flex-shrink: 0;
            }
        
            .grid-cell span {
                flex: 1;
                min-width: 0; /* Allows text to wrap properly */
            }

            /* Add data-labels for mobile view */
            .grid-cell::before {
                content: attr(data-label) ": ";
                font-weight: bold;
            }
        }
    }

}

// @media (max-width: 91.98px) {
//     .gridable {
//         grid-template-columns: 1fr;
//         border:none;

//         .grid-header {
//             display: none;
//         }
    
//         .grid-row {
//             display: grid;
//             grid-template-columns: 1fr;
//             gap: 5px;
//             margin-bottom: 5px;
//             padding: 10px;
//             background: inherit;
//             border: var(--border);
//             border-radius: 0px;
//         }

//         .grid-row:last-child{
//             margin-bottom: 0px;
//         }
    
//         .grid-cell {
//             padding: 5px;
//             background: transparent !important;
//             border-bottom: none;
//             display: flex;
//             flex-wrap: wrap;
//         }

    
//         .grid-cell::before {
//             content: attr(data-label);
//             font-weight: bold;
//             width: 120px;
//             flex-shrink: 0;
//         }
    
//         .grid-cell span {
//             flex: 1;
//             min-width: 0; /* Allows text to wrap properly */
//         }


//         /* Add data-labels for mobile view */
//         .grid-cell::before {
//             content: attr(data-label) ": ";
//             font-weight: bold;
//         }
//     }
// }